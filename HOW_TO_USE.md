# 사용 가이드

Figma Design System Color Checker 플러그인 사용 방법을 설명합니다.

## 목차

1. [설치 방법](#설치-방법)
2. [플러그인 실행](#플러그인-실행)
3. [팔레트 선택](#팔레트-선택)
4. [색상 검사](#색상-검사)
5. [결과 확인](#결과-확인)
6. [색상 수정](#색상-수정)

---

## 설치 방법

### 방법 1: Figma Community에서 설치 (권장)

가장 간단한 방법으로, Figma Community에서 바로 설치할 수 있습니다.

1. Figma Desktop 또는 웹에서 **Community** 탭으로 이동
2. 검색창에 **"Design System Color Checker"** 입력
3. 플러그인 페이지에서 **Install** 버튼 클릭
4. 설치 완료 후 모든 Figma 파일에서 사용 가능

### 방법 2: 소스 코드에서 직접 빌드

개발 또는 커스터마이징이 필요한 경우 소스 코드에서 직접 빌드할 수 있습니다.

#### 사전 요구사항

- Node.js 20 이상
- pnpm 9 이상
- Figma Desktop App

#### 설치 단계

```bash
# 1. 저장소 클론
git clone https://github.com/lacomparte/plugin-figma-color-check.git
cd plugin-figma-color-check

# 2. 의존성 설치
pnpm install

# 3. 프로덕션 빌드
pnpm build
```

#### Figma에 플러그인 등록

1. Figma Desktop 앱 실행
2. 아무 파일이나 열기
3. 상단 메뉴에서 **Plugins** > **Development** > **Import plugin from manifest...** 클릭
4. 클론한 프로젝트 폴더의 `manifest.json` 파일 선택
5. 플러그인이 **Development** 메뉴에 등록됨

> 💡 **개발 모드**: 코드 수정 시 `pnpm dev`를 실행하면 변경사항이 자동으로 반영됩니다.

---

## 플러그인 실행

### 방법 1: 메뉴에서 실행

1. Figma에서 디자인 파일을 엽니다
2. 상단 메뉴에서 **Plugins** 클릭
3. **디자인 시스템 Color Checker** 선택

### 방법 2: 단축키로 실행

1. `Cmd + /` (Mac) 또는 `Ctrl + /` (Windows)를 눌러 Quick Actions 열기
2. "Color Checker" 입력 후 선택

---

## 팔레트 선택

플러그인 실행 시 가장 먼저 **기준 팔레트**를 선택해야 합니다.

### 팔레트 소스 종류

| 소스 | 설명 | 아이콘 |
|-----|------|-------|
| **Page** | Figma 파일 내 특정 페이지에 정의된 색상들 | 📄 |
| **Variable** | Figma Variables로 정의된 Color Variables | 🎨 |

### 팔레트 선택 방법

1. 드롭다운을 클릭하여 팔레트 목록 열기
2. 검색창에 팔레트 이름 입력 (대소문자, 공백 무시)
   - 예: "page1" 검색 → "Page 1" 찾기
3. 원하는 팔레트 클릭하여 선택

### Page 팔레트 설정

Page를 팔레트 소스로 사용하려면:

1. Figma 파일에 **컬러 팔레트 전용 페이지** 생성
2. 해당 페이지에 컬러 스와치 프레임 배치
   - 각 프레임/도형에 단일 Fill 색상 적용
   - 프레임 이름이 색상 토큰 이름으로 사용됨

### Variable 팔레트 설정

Variable Collection을 팔레트 소스로 사용하려면:

1. **Variables** 패널 열기 (우측 패널 또는 단축키)
2. **Color Variable Collection** 생성
3. 디자인 시스템 색상들을 Variable로 정의

---

## 색상 검사

### 선택 영역 검사

특정 요소만 검사하려면:

1. 검사할 프레임/컴포넌트 선택
2. **선택 영역 검사** 버튼 클릭

### 전체 페이지 검사

현재 페이지 전체를 검사하려면:

1. 아무것도 선택하지 않은 상태에서
2. **페이지 검사** 버튼 클릭

---

## 결과 확인

### 결과 요약

검사 완료 후 상단에 통계가 표시됩니다:

- **유효**: 팔레트에 포함된 색상 수
- **무효**: 팔레트에 없는 색상 수 (수정 필요)

### 색상 목록

각 색상 항목에는 다음 정보가 표시됩니다:

| 항목 | 설명 |
|-----|------|
| **색상 미리보기** | 실제 색상 표시 |
| **HEX 값** | 색상 코드 (예: #FF5733) |
| **노드 이름** | 해당 색상이 적용된 요소 이름 |
| **속성 타입** | Fill 또는 Stroke |
| **상태** | ✅ 유효 / ⚠️ 무효 |

### 무효 색상의 추천

팔레트에 없는 색상(무효)에는 **가장 유사한 팔레트 색상**이 추천됩니다:

- 추천 색상은 동일한 색상 계열(회색, 파랑, 빨강 등) 내에서 선택
- 색상 간 거리(RGB 유클리드 거리) 기준으로 가장 가까운 색상 제안

### 요소로 이동

색상 항목을 클릭하면:

1. 해당 요소가 캔버스에서 **자동 선택**됨
2. 뷰포트가 해당 요소로 **자동 이동** 및 **줌**

---

## 색상 수정

### 개별 수정

1. 무효 색상 항목의 **추천 색상** 확인
2. **수정** 버튼 클릭
3. 해당 요소의 색상이 추천 색상으로 변경됨

### 일괄 수정

모든 무효 색상을 한 번에 수정하려면:

1. **모두 수정** 버튼 클릭
2. 추천이 있는 모든 무효 색상이 일괄 변경됨

> ⚠️ **주의**: 일괄 수정 전 각 추천 색상이 적절한지 확인하세요.

---

## 색상 계열 분류

플러그인은 색상을 다음 계열로 분류하여 추천합니다:

| 계열 | 조건 |
|-----|------|
| **Grayscale** | R, G, B 값의 차이가 15 이하 |
| **Blue** | B가 가장 크고 (B - max(R,G)) > 30 |
| **Red** | R이 가장 크고 (R - max(G,B)) > 30 |
| **Yellow** | R과 G가 크고, B가 작음 |
| **Other** | 위 조건에 해당하지 않는 색상 |

---

## 팁

### 효율적인 검사를 위해

1. **컬러 팔레트 페이지를 별도로 관리**: 디자인 시스템 색상을 한 페이지에 정리
2. **Variable 사용 권장**: Figma Variables로 관리하면 일관성 유지에 유리
3. **컴포넌트 단위 검사**: 대규모 파일은 컴포넌트 단위로 나눠서 검사

### 자주 발생하는 문제

| 문제 | 해결 방법 |
|-----|----------|
| 팔레트가 비어있음 | 팔레트 페이지/Variable에 색상이 정의되어 있는지 확인 |
| 색상이 모두 무효로 표시 | 올바른 팔레트를 선택했는지 확인 |
| 플러그인 로딩 느림 | 대규모 파일은 선택 영역 검사 사용 |

---

## 지원

문제가 발생하면 [GitHub Issues](https://github.com/lacomparte/plugin-figma-color-check/issues)에서 보고해 주세요.
